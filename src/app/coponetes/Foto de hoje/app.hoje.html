<!-- 
  Usa o pipe 'async' para se inscrever no Observable 'imagemDoDia$'
  e obter os dados. O *ngIf também cria uma variável local 'imagem'
  com o resultado do observable.
-->
<div *ngIf="imagemDoDia$ | async as imagem; else loading">
  <!-- Se a busca retornou uma imagem, mostra o resultado -->
  <div *ngIf="imagem; else erro" class="hoje-container">
    <h2>{{ imagem.title }}</h2>
    
    <img 
      [ngSrc]="imagem.url" 
      [alt]="imagem.title"
      width="800" 
      height="600"
      priority>
  
    <p class="explanation">{{ imagem.explanation }}</p>
  </div>
  <!-- Se a busca retornou null (erro), mostra mensagem de erro -->
  <ng-template #erro>
    <div class="error-container">
      <p>Não foi possível carregar a imagem de hoje. Por favor, tente novamente mais tarde.</p>
    </div>
  </ng-template>
</div>
 
<!-- Template para mostrar enquanto os dados carregam -->
<ng-template #loading>
  <div class="loading-container">
    <p>Carregando a foto de hoje...</p>
  </div>
</ng-template>
